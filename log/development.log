

Started GET "/" for 127.0.0.1 at 2014-12-09 21:59:33 -0800
  [1m[36mActiveRecord::SchemaMigration Load (29.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_navbar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (1.3ms)
Completed 200 OK in 199ms (Views: 181.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 21:59:34 -0800


Started GET "/" for 127.0.0.1 at 2014-12-09 22:01:48 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navbar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:01:48 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:02:02 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (138.0ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.7ms)
Completed 200 OK in 319ms (Views: 147.8ms | ActiveRecord: 25.9ms)


Started GET "/login" for 127.0.0.1 at 2014-12-09 22:02:45 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2014-12-09 22:02:58 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.8ms)
Completed 200 OK in 53ms (Views: 52.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:02:59 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:03:01 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 22:03:36 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navbar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 22:04:01 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:02 -0800


Started GET "/" for 127.0.0.1 at 2014-12-09 22:04:17 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (43.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 54ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:17 -0800


Started GET "/login" for 127.0.0.1 at 2014-12-09 22:04:24 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:04:27 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navbar.html.erb (49.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 60.3ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:04:40 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:04:40 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:05:00 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 65ms (Views: 63.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:00 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:05:10 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:10 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:11 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 22:05:24 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:24 -0800


Started GET "/" for 127.0.0.1 at 2014-12-09 22:05:40 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 22:05:52 -0800
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 22:05:53 -0800
  [1m[36mActiveRecord::SchemaMigration Load (26.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFarmerInputs (20141210072638)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (107.3ms)[0m  [1mCREATE TABLE "farmer_inputs" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "warehouse_number" integer, "commodity_number" integer, "quantity" float, "commodity_grade" integer, "phone_number" character varying(255), "session_id" character varying(255), "state" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (9.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141210072638"]]
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateFarmerInputs (20141210072638)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (27.9ms)[0m  DROP TABLE "farmer_inputs"
  [1m[36mSQL (26.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20141210072638'[0m
  [1m[35m (10.8ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFarmerInputs (20141210073131)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (27.3ms)[0m  [1mCREATE TABLE "farmer_inputs" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "warehouse_number" integer, "commodity_number" integer, "quantity" float, "commodity_grade" integer, "phone_number" character varying(255), "session_id" character varying(255), "state" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141210073131"]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/login" for 127.0.0.1 at 2014-12-09 23:37:24 -0800
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"

ActiveRecord::PendingMigrationError (Migrations are pending; run 'bin/rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.8) lib/active_record/migration.rb:383:in `check_pending!'
  activerecord (4.0.8) lib/active_record/migration.rb:370:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__2309889937041950997__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (51.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (71.2ms)


Started GET "/login" for 127.0.0.1 at 2014-12-09 23:37:24 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (Migrations are pending; run 'bin/rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.8) lib/active_record/migration.rb:383:in `check_pending!'
  activerecord (4.0.8) lib/active_record/migration.rb:370:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__2309889937041950997__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.9ms)


Started GET "/" for 127.0.0.1 at 2014-12-09 23:37:43 -0800
  [1m[36mActiveRecord::SchemaMigration Load (27.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (Migrations are pending; run 'bin/rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.8) lib/active_record/migration.rb:383:in `check_pending!'
  activerecord (4.0.8) lib/active_record/migration.rb:370:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__820653946453221866__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (26.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserIdToFarmerInput (20141210073608)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (23.3ms)[0m  [1mALTER TABLE "farmer_inputs" ADD COLUMN "uuid" user_id[0m
PG::UndefinedObject: ERROR:  type "user_id" does not exist
LINE 1: ALTER TABLE "farmer_inputs" ADD COLUMN "uuid" user_id
                                                      ^
: ALTER TABLE "farmer_inputs" ADD COLUMN "uuid" user_id
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserIdToFarmerInput (20141210073608)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (27.4ms)[0m  [1mALTER TABLE "farmer_inputs" ADD COLUMN "user_id" uuid[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141210073608"]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/" for 127.0.0.1 at 2014-12-09 23:40:51 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_navbar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (1.2ms)
Completed 200 OK in 1009ms (Views: 993.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/ussd.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/ussd.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 23:40:52 -0800


Started GET "/signup" for 127.0.0.1 at 2014-12-09 23:40:59 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (132.4ms)
  Rendered layouts/_navbar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (1.0ms)
Completed 200 OK in 255ms (Views: 145.8ms | ActiveRecord: 2.3ms)


Started POST "/users" for 127.0.0.1 at 2014-12-09 23:41:15 -0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jJUpStMCKFKSYF4zI/rQulUyBXb6UrCQlfR5Cam9UAk=", "user"=>{"username"=>"modedemo", "phone_number"=>"+254728306089", "password"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (103.9ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."phone_number" = '+254728306089' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'modedemo' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Redirected to http://localhost:3000/signup
Completed 302 Found in 150ms (ActiveRecord: 104.5ms)


Started GET "/signup" for 127.0.0.1 at 2014-12-09 23:41:15 -0800
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:15 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:16 -0800


Started POST "/users" for 127.0.0.1 at 2014-12-09 23:41:37 -0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jJUpStMCKFKSYF4zI/rQulUyBXb6UrCQlfR5Cam9UAk=", "user"=>{"username"=>"modedemo", "phone_number"=>"+254726306089", "password"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."phone_number" = '+254726306089' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'modedemo' LIMIT 1
  [1m[36mSQL (37.0ms)[0m  [1mINSERT INTO "users" ("activation_state", "activation_token", "country", "created_at", "crypted_password", "phone_number", "salt", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["activation_state", "pending"], ["activation_token", "Pg5635bbB7a6UsR71egK"], ["country", "Kenya"], ["created_at", Wed, 10 Dec 2014 07:41:37 UTC +00:00], ["crypted_password", "$2a$10$lI3DA2Yjeh3VUe/K19VRbuoNWqIxCRIDP4EvRzz4LwISYS03MBC.W"], ["phone_number", "+254726306089"], ["salt", "Zus8YnS3yNmf6tkbWqAV"], ["updated_at", Wed, 10 Dec 2014 07:41:37 UTC +00:00], ["username", "modedemo"]]
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (8.3ms)[0m  UPDATE "users" SET "activation_token" = $1, "activation_state" = $2, "updated_at" = $3 WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'  [["activation_token", nil], ["activation_state", "active"], ["updated_at", Wed, 10 Dec 2014 07:41:37 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE (username = 'modedemo' OR phone_number = 'modedemo') ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mSQL (5.6ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2014-12-10 07:41:37.435743' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
  [1m[35mSQL (12.9ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '127.0.0.1' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "failed_logins_count" = 0 WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
Redirected to http://localhost:3000/app
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2014-12-10 07:41:37.466563' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
Completed 302 Found in 419ms (ActiveRecord: 72.0ms)


Started GET "/app" for 127.0.0.1 at 2014-12-09 23:41:37 -0800
Processing by PublishersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24' LIMIT 1[0m
  Rendered publishers/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  [1m[35mSQL (6.2ms)[0m  UPDATE "users" SET "last_activity_at" = '2014-12-10 07:41:37.587626' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
Completed 200 OK in 60ms (Views: 13.6ms | ActiveRecord: 6.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 23:41:37 -0800


Started GET "/app" for 127.0.0.1 at 2014-12-09 23:56:52 -0800
  [1m[36mActiveRecord::SchemaMigration Load (26.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PublishersController#index as HTML
  [1m[35mUser Load (38.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24' LIMIT 1
  Rendered publishers/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_navbar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.9ms)
  [1m[36mSQL (27.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2014-12-10 07:56:52.717537' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
Completed 200 OK in 433ms (Views: 194.0ms | ActiveRecord: 67.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/ussd.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:52 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/ussd.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-09 23:56:53 -0800


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:21:24 -0800
  [1m[36mActiveRecord::SchemaMigration Load (27.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
Completed 500 Internal Server Error in 17ms

ArgumentError (wrong number of arguments(0 for 1)):
  app/controllers/ussd_controller.rb:12:in `merge'
  app/controllers/ussd_controller.rb:12:in `inbound'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.7ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:21:49 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
Completed 500 Internal Server Error in 7ms

ActionView::MissingTemplate (Missing template ussd/inbound, application/inbound with {:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :png, :jpeg, :gif, :bmp, :tiff, :mpeg, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip], :handlers=>[:erb, :builder, :raw, :ruby, :jbuilder, :coffee]}. Searched in:
  * "/Users/alkarim/Desktop/app/Egranary/app/views"
):
  app/controllers/ussd_controller.rb:32:in `inbound'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.8ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:23:44 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
  Rendered text template (0.1ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:24:18 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
  Rendered text template (0.3ms)
Completed 200 OK in 87448ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:26:43 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
  Rendered text template (0.3ms)
Completed 200 OK in 4604ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:26:58 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 2062ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:27:05 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 1626ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:27:29 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:27:48 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199"}
  Rendered text template (0.2ms)
Completed 200 OK in 46049ms (Views: 19.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:28:43 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 59413ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:29:48 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 15596ms (Views: 2.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:30:10 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.5ms)
Completed 200 OK in 3467ms (Views: 2.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:30:18 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"50"}
  Rendered text template (0.3ms)
Completed 200 OK in 1482ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:30:24 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"5"}
Completed 500 Internal Server Error in 1415ms

NoMethodError (undefined method `msg' for #<UssdController:0x007fcd17b66bd8>):
  app/controllers/ussd_controller.rb:68:in `gen_response'
  app/controllers/ussd_controller.rb:11:in `inbound'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (66.4ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:30:59 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"5"}
  [1m[35mUser Load (30.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' ORDER BY "users"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 2388ms

ActiveRecord::UnknownAttributeError (unknown attribute: user):
  app/controllers/ussd_controller.rb:16:in `inbound'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.3ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:11 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1638ms (Views: 13.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:21 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1415ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:26 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 857ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:34 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 1359ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:41 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 1598ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:47 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"50"}
  Rendered text template (0.3ms)
Completed 200 OK in 945ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 00:32:53 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"2", "phoneNumber"=>"+16506448199", "text"=>"5"}
  [1m[35mUser Load (1.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (35.0ms)[0m  INSERT INTO "farmer_inputs" ("commodity_grade", "commodity_number", "created_at", "phone_number", "quantity", "session_id", "state", "updated_at", "user_id", "warehouse_number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["commodity_grade", 5], ["commodity_number", 1], ["created_at", Wed, 10 Dec 2014 08:33:02 UTC +00:00], ["phone_number", "+16506448199"], ["quantity", 50.0], ["session_id", "2"], ["state", 5], ["updated_at", Wed, 10 Dec 2014 08:33:02 UTC +00:00], ["user_id", "3d664c5c-3ead-4ec2-9ca9-267085355d24"], ["warehouse_number", 1]]
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.2ms)
Completed 200 OK in 10924ms (Views: 1.3ms | ActiveRecord: 46.6ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:18 -0800
  [1m[36mActiveRecord::SchemaMigration Load (23.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1121313", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 82ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:21 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1121313", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:24 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1121313", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:27 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1121313", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:30 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"1121313", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mUser Load (32.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (34.0ms)[0m  INSERT INTO "farmer_inputs" ("commodity_grade", "commodity_number", "created_at", "phone_number", "quantity", "session_id", "state", "updated_at", "user_id", "warehouse_number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["commodity_grade", 1], ["commodity_number", 1], ["created_at", Wed, 10 Dec 2014 19:24:31 UTC +00:00], ["phone_number", "+16506448199"], ["quantity", 1.0], ["session_id", "1121313"], ["state", 5], ["updated_at", Wed, 10 Dec 2014 19:24:31 UTC +00:00], ["user_id", "3d664c5c-3ead-4ec2-9ca9-267085355d24"], ["warehouse_number", 1]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.3ms)
Completed 200 OK in 363ms (Views: 1.4ms | ActiveRecord: 74.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:54 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:24:56 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"3"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:25:03 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:25:07 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"600"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:25:17 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"5"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "farmer_inputs" ("commodity_grade", "commodity_number", "created_at", "phone_number", "quantity", "session_id", "state", "updated_at", "user_id", "warehouse_number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["commodity_grade", 5], ["commodity_number", 2], ["created_at", Wed, 10 Dec 2014 19:25:17 UTC +00:00], ["phone_number", "+16506448199"], ["quantity", 600.0], ["session_id", "11213134"], ["state", 5], ["updated_at", Wed, 10 Dec 2014 19:25:17 UTC +00:00], ["user_id", "3d664c5c-3ead-4ec2-9ca9-267085355d24"], ["warehouse_number", 3]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.1ms)
Completed 200 OK in 16ms (Views: 1.0ms | ActiveRecord: 7.3ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:26:31 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:26:36 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"3"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:26:46 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"3*5"}
  Rendered text template (0.2ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:26:51 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"3*5*400"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2014-12-10 11:26:57 -0800
Processing by UssdController#inbound as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"3*5*400*2"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "farmer_inputs" ("commodity_grade", "commodity_number", "created_at", "phone_number", "quantity", "session_id", "state", "updated_at", "user_id", "warehouse_number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["commodity_grade", 2], ["commodity_number", 5], ["created_at", Wed, 10 Dec 2014 19:26:57 UTC +00:00], ["phone_number", "+16506448199"], ["quantity", 400.0], ["session_id", "112131345"], ["state", 5], ["updated_at", Wed, 10 Dec 2014 19:26:57 UTC +00:00], ["user_id", "3d664c5c-3ead-4ec2-9ca9-267085355d24"], ["warehouse_number", 3]]
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 7.2ms)


Started GET "/api/users/status.json" for 127.0.0.1 at 2014-12-10 11:30:46 -0800

ActionController::RoutingError (No route matches [GET] "/api/users/status.json"):
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/routes/_table.html.erb (22.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p448/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (132.5ms)


Started GET "/" for 127.0.0.1 at 2014-12-10 11:41:03 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navbar.html.erb (0.8ms)
  Rendered layouts/_alerts.html.erb (1.6ms)
Completed 200 OK in 632ms (Views: 618.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:03 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:03 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:03 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/ussd.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/ussd.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-12-10 11:41:04 -0800


Started GET "/login" for 127.0.0.1 at 2014-12-10 11:41:07 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (1.3ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2014-12-10 11:41:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H9E0XNBpDJ9slzVeZ2e4mD1Qj/cmDFXyYKE39wVwvz8=", "phone_number_or_username"=>"modedemo", "password"=>"[FILTERED]", "commit"=>"Login"}
Unpermitted parameters: utf8, authenticity_token, commit
Unpermitted parameters: utf8, authenticity_token, commit
  [1m[35mUser Load (23.7ms)[0m  SELECT "users".* FROM "users" WHERE (username = 'modedemo' OR phone_number = 'modedemo') ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (username = 'modedemo' OR phone_number = 'modedemo') ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (21.4ms)[0m  UPDATE "users" SET "failed_logins_count" = 1 WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'modedemo' LIMIT 1[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 326ms (ActiveRecord: 48.6ms)


Started GET "/login" for 127.0.0.1 at 2014-12-10 11:41:09 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
  Rendered layouts/_alerts.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2014-12-10 11:41:14 -0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H9E0XNBpDJ9slzVeZ2e4mD1Qj/cmDFXyYKE39wVwvz8=", "phone_number_or_username"=>"modedemo", "password"=>"[FILTERED]", "commit"=>"Login"}
Unpermitted parameters: utf8, authenticity_token, commit
Unpermitted parameters: utf8, authenticity_token, commit
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE (username = 'modedemo' OR phone_number = 'modedemo') ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2014-12-10 19:41:14.801111' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '127.0.0.1' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "failed_logins_count" = 0 WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
Redirected to http://localhost:3000/app
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "last_activity_at" = '2014-12-10 19:41:14.808954' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'
Completed 302 Found in 182ms (ActiveRecord: 4.0ms)


Started GET "/app" for 127.0.0.1 at 2014-12-10 11:41:14 -0800
Processing by PublishersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24' LIMIT 1[0m
  [1m[35mFarmerInput Load (22.9ms)[0m  SELECT "farmer_inputs".* FROM "farmer_inputs" WHERE "farmer_inputs"."user_id" = $1  [["user_id", "3d664c5c-3ead-4ec2-9ca9-267085355d24"]]
  Rendered publishers/index.html.erb within layouts/application (35.3ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
  Rendered layouts/_alerts.html.erb (0.2ms)
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2014-12-10 19:41:14.962437' WHERE "users"."id" = '3d664c5c-3ead-4ec2-9ca9-267085355d24'[0m
Completed 200 OK in 80ms (Views: 22.3ms | ActiveRecord: 26.4ms)


Started GET "/" for 127.0.0.1 at 2015-02-21 09:30:01 -0800
  [1m[36mActiveRecord::SchemaMigration Load (27.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (Migrations are pending; run 'bin/rake db:migrate RAILS_ENV=development' to resolve this issue.):
  activerecord (4.0.8) lib/active_record/migration.rb:383:in `check_pending!'
  activerecord (4.0.8) lib/active_record/migration.rb:370:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__3554791646144274421__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateForms (20150218055956)
  [1m[35m (6.5ms)[0m  BEGIN
  [1m[36m (83.3ms)[0m  [1mCREATE TABLE "forms" ("id" serial primary key, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150218055956"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/" for 127.0.0.1 at 2015-02-21 09:30:34 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navbar.html.erb (1.4ms)
  Rendered layouts/_alerts.html.erb (1.0ms)
Completed 200 OK in 973ms (Views: 961.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/api.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/home.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/missed_calls.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/publishers.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/read_messages.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/user.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/ussd.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/vipi.css?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/api.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/bootstrap.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/missed_calls.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/publishers.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/read_messages.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/user.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/ussd.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/vipi.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2015-02-21 09:30:36 -0800
  [1m[36mActiveRecord::SchemaMigration Load (24.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateForms (20150218055956)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (25.2ms)[0m  DROP TABLE "forms"
  [1m[36mSQL (19.6ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20150218055956'[0m
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (18.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFarmers (20150221190901)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (26.1ms)[0m  [1mCREATE TABLE "farmers" ("id" serial primary key, "phone_number" character varying(255), "first_name" character varying(255), "last_name" character varying(255), "id_number" character varying(255), "association" character varying(255), "country" character varying(255), "county" character varying(255), "ward" character varying(255), "nearest_town" character varying(255), "crops" character varying(255)[], "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150221190901"]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mForm Load (24.1ms)[0m  [1mSELECT "forms".* FROM "forms" ORDER BY "forms"."id" ASC LIMIT 1[0m
PG::UndefinedTable: ERROR:  relation "forms" does not exist
LINE 1: SELECT  "forms".* FROM "forms"   ORDER BY "forms"."id" ASC L...
                               ^
: SELECT  "forms".* FROM "forms"   ORDER BY "forms"."id" ASC LIMIT 1
PG::UndefinedTable: ERROR:  relation "forms" does not exist
LINE 5:                WHERE a.attrelid = '"forms"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"forms"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "forms" does not exist
LINE 5:                WHERE a.attrelid = '"forms"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"forms"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36mActiveRecord::SchemaMigration Load (7.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
PG::UndefinedTable: ERROR:  relation "forms" does not exist
LINE 5:                WHERE a.attrelid = '"forms"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"forms"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum



Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:02:11 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/controllers/ussd_controller.rb:177: syntax error, unexpected $end, expecting keyword_end):
  activesupport (4.0.8) lib/active_support/dependencies.rb:424:in `load'
  activesupport (4.0.8) lib/active_support/dependencies.rb:424:in `block in load_file'
  activesupport (4.0.8) lib/active_support/dependencies.rb:616:in `new_constants_in'
  activesupport (4.0.8) lib/active_support/dependencies.rb:423:in `load_file'
  activesupport (4.0.8) lib/active_support/dependencies.rb:324:in `require_or_load'
  activesupport (4.0.8) lib/active_support/dependencies.rb:463:in `load_missing_constant'
  activesupport (4.0.8) lib/active_support/dependencies.rb:184:in `const_missing'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.8) lib/active_support/dependencies.rb:535:in `get'
  activesupport (4.0.8) lib/active_support/dependencies.rb:566:in `constantize'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:676:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/error_collector.rb:50:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/agent_hooks.rb:26:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/browser_monitoring.rb:23:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/flash.rb:241:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/query_cache.rb:36:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/migration.rb:373:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__3351656996381629073__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (20.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (44.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:02:51 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2015-02-22 17:02:51 -0800
Processing by SessionsController#new as */*
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navbar.html.erb (39.2ms)
  Rendered layouts/_alerts.html.erb (0.9ms)
Completed 200 OK in 578ms (Views: 575.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:05:36 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 70679ms

NoMethodError (undefined method `format_response' for #<UssdController:0x007f9e5e2ec828>):
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:09:16 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (20.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 32468ms

NameError (undefined local variable or method `id' for Form:Module):
  app/models/form.rb:37:in `get_form_session'
  app/models/form.rb:28:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:32:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.3ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 25481ms

NameError (undefined local variable or method `id' for Form:Module):
  app/models/form.rb:40:in `get_form_session'
  app/models/form.rb:28:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:33:19 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 22652ms

NoMethodError (undefined method `form' for Form:Module):
  app/models/form.rb:53:in `get_form'
  app/models/form.rb:29:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (44.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (57.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:34:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 34519ms

NoMethodError (undefined method `form' for Form:Module):
  app/models/form.rb:53:in `get_form'
  app/models/form.rb:29:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.3ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:34:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 5959ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/ussd_controller.rb:77:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (59.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:34:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 64747ms

NameError (undefined local variable or method `question_id' for Form:Module):
  app/models/form.rb:33:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:36:02 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.3ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 16822ms

TypeError (nil is not a symbol):
  app/models/form.rb:53:in `get_form'
  app/models/form.rb:67:in `get_text'
  app/models/form.rb:33:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:36:43 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 29174ms

TypeError (nil is not a symbol):
  app/models/form.rb:53:in `get_form'
  app/models/form.rb:67:in `get_text'
  app/models/form.rb:33:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:37:19 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.7ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 56010ms

TypeError (nil is not a symbol):
  app/models/form.rb:53:in `get_form'
  app/models/form.rb:67:in `get_text'
  app/models/form.rb:33:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:38:34 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (1.0ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 106063ms

TypeError (nil is not a symbol):
  app/models/form.rb:54:in `get_form'
  app/models/form.rb:68:in `get_text'
  app/models/form.rb:33:in `respond_to_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:40:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 1952ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/ussd_controller.rb:77:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:43:49 -0800
  [1m[36mActiveRecord::SchemaMigration Load (4.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (2.5ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 4888ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:80:in `+'
  app/controllers/ussd_controller.rb:80:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.2ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:44:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 29593ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:81:in `+'
  app/controllers/ussd_controller.rb:81:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:45:11 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.9ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 37989ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:81:in `+'
  app/controllers/ussd_controller.rb:81:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:45:53 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 12363ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:81:in `+'
  app/controllers/ussd_controller.rb:81:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:46:30 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.9ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 8011ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:81:in `+'
  app/controllers/ussd_controller.rb:81:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:46:48 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 41145ms

TypeError (can't convert Hash into String):
  app/controllers/ussd_controller.rb:80:in `+'
  app/controllers/ussd_controller.rb:80:in `format_response'
  app/controllers/ussd_controller.rb:30:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 17:47:33 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.3ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 1064ms (Views: 6.8ms | ActiveRecord: 2.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:29:42 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131345", "phoneNumber"=>"+16506448199", "text"=>"alk"}
Completed 500 Internal Server Error in 37857ms

NoMethodError (undefined method `is_last_message?' for Form:Module):
  app/controllers/ussd_controller.rb:34:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (26.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:31:19 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 2242ms

NoMethodError (undefined method `is_last_message?' for Form:Module):
  app/controllers/ussd_controller.rb:34:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:31:50 -0800
  [1m[36mActiveRecord::SchemaMigration Load (21.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 25401ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:108:in `get_form_name'
  app/models/form.rb:132:in `is_last_question?'
  app/controllers/ussd_controller.rb:34:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.3ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:32:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213134", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 17836ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:108:in `get_form_name'
  app/models/form.rb:132:in `is_last_question?'
  app/controllers/ussd_controller.rb:34:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:32:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213132", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (9.7ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.4ms)
Completed 200 OK in 16874ms (Views: 7.4ms | ActiveRecord: 11.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:33:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213132", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
  Rendered text template (0.4ms)
Completed 200 OK in 95944ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:35:14 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213132", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 11475ms

TypeError (nil is not a symbol):
  app/models/form.rb:137:in `get_question'
  app/models/form.rb:132:in `is_last_question?'
  app/controllers/ussd_controller.rb:11:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:38:36 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213132", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 15683ms (Views: 50.9ms | ActiveRecord: 3.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:38:58 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"11213132", "phoneNumber"=>"+16506448199", "text"=>"alk"}
Completed 500 Internal Server Error in 13693ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/ussd_controller.rb:43:in `increment_question_id'
  app/controllers/ussd_controller.rb:35:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (59.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:40:53 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.9ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 9444ms (Views: 49.4ms | ActiveRecord: 3.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:41:09 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"112131", "phoneNumber"=>"+16506448199", "text"=>"Alk"}
Completed 500 Internal Server Error in 12009ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/ussd_controller.rb:43:in `increment_question_id'
  app/controllers/ussd_controller.rb:35:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.3ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:41:38 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"Alk"}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 1804ms (Views: 12.5ms | ActiveRecord: 3.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:41:46 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"Alk"}
Completed 500 Internal Server Error in 146367ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/ussd_controller.rb:43:in `increment_question_id'
  app/controllers/ussd_controller.rb:35:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:44:22 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.9ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 5644ms (Views: 14.2ms | ActiveRecord: 2.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:44:31 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 3190ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:45:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[36mFarmer Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
  Rendered text template (0.3ms)
Completed 200 OK in 9812ms (Views: 1.4ms | ActiveRecord: 0.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:45:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 62100ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:46:36 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[35mFarmer Exists (0.4ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 5601ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:107:in `get_form_name'
  app/models/form.rb:111:in `get_form'
  app/models/form.rb:39:in `respond_to_form'
  app/controllers/ussd_controller.rb:31:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:48:21 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 13751ms (Views: 50.5ms | ActiveRecord: 3.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:48:38 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 70032ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:49:59 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
Completed 500 Internal Server Error in 1301ms

TypeError (can't convert nil into String):
  app/controllers/ussd_controller.rb:104:in `+'
  app/controllers/ussd_controller.rb:104:in `format_response'
  app/controllers/ussd_controller.rb:37:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.2ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:50:37 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[35mFarmer Exists (0.7ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 5639ms (Views: 14.0ms | ActiveRecord: 3.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:50:46 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 985ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-22 22:50:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
Completed 500 Internal Server Error in 8415862ms

TypeError (can't convert nil into String):
  app/controllers/ussd_controller.rb:104:in `+'
  app/controllers/ussd_controller.rb:104:in `format_response'
  app/controllers/ussd_controller.rb:37:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (36.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:11:33 -0800
  [1m[36mActiveRecord::SchemaMigration Load (29.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
Completed 500 Internal Server Error in 1214ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:133:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.3ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:11:46 -0800
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  [1m[35mFarmer Exists (9.5ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 11507ms (Views: 22.0ms | ActiveRecord: 11.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:12:01 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 11680ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:12:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:13:46 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  [1m[35mFarmer Exists (0.7ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 5505ms (Views: 13.3ms | ActiveRecord: 2.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:13:57 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 1237ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:14:03 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"la"}
  Rendered text template (0.2ms)
Completed 200 OK in 2251ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:14:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 22335ms

NoMethodError (undefined method `create_new_farmer' for #<Class:0x007ff3d5dd5100>):
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:16:03 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 8165ms (Views: 14.4ms | ActiveRecord: 2.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:16:18 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 991ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:16:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 1038ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:16:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 8977ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:4:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:18:21 -0800
  [1m[36mActiveRecord::SchemaMigration Load (19.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 1558ms

NameError (undefined local variable or method `debuggger' for #<Class:0x007fc9fa1e40f8>):
  app/models/farmer.rb:4:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (32.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:18:31 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 4028ms

NameError (undefined local variable or method `debuggger' for #<Class:0x007fc9fa1e40f8>):
  app/models/farmer.rb:4:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:18:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 90723ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (46.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (63.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:20:18 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (7.5ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 4947ms (Views: 4.4ms | ActiveRecord: 9.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:20:29 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 1101ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:20:35 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 1134ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:20:42 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 6649ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:20:56 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 373786ms

NoMethodError (undefined method `save' for #<Class:0x007fc9fe03b770>):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:27:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 2564ms

NoMethodError (undefined method `save' for #<Class:0x007fc9fe03b770>):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:27:45 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 12600ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:33:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 21016ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:33:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (7.1ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.4ms)
Completed 200 OK in 8883ms (Views: 5.3ms | ActiveRecord: 7.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:33:47 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 1753ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:33:53 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 1674ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:33:59 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 31213ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:72:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:34:33 -0800

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/controllers/ussd_controller.rb:42: syntax error, unexpected keyword_else):
  activesupport (4.0.8) lib/active_support/dependencies.rb:424:in `load'
  activesupport (4.0.8) lib/active_support/dependencies.rb:424:in `block in load_file'
  activesupport (4.0.8) lib/active_support/dependencies.rb:616:in `new_constants_in'
  activesupport (4.0.8) lib/active_support/dependencies.rb:423:in `load_file'
  activesupport (4.0.8) lib/active_support/dependencies.rb:324:in `require_or_load'
  activesupport (4.0.8) lib/active_support/dependencies.rb:463:in `load_missing_constant'
  activesupport (4.0.8) lib/active_support/dependencies.rb:184:in `const_missing'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.8) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.8) lib/active_support/dependencies.rb:535:in `get'
  activesupport (4.0.8) lib/active_support/dependencies.rb:566:in `constantize'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:676:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/error_collector.rb:50:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/agent_hooks.rb:26:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/rack/browser_monitoring.rb:23:in `traced_call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:55:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/flash.rb:241:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/query_cache.rb:36:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activerecord (4.0.8) lib/active_record/migration.rb:373:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__1565772021834714066__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  activesupport (4.0.8) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  newrelic_rpm (3.9.1.236) lib/new_relic/agent/instrumentation/middleware_tracing.rb:57:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  puma (2.9.0) lib/puma/server.rb:490:in `handle_request'
  puma (2.9.0) lib/puma/server.rb:361:in `process_client'
  puma (2.9.0) lib/puma/server.rb:254:in `block in run'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `call'
  puma (2.9.0) lib/puma/thread_pool.rb:92:in `block in spawn_thread'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.2ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:35:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 11066ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:35:33 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 376957ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (64.7ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:41:52 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 6049ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:42:02 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 1283ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:42:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 7358ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 01:42:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 29248ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 10:37:20 -0800
  [1m[36mActiveRecord::SchemaMigration Load (23.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35mFarmer Exists (9.8ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 4730ms (Views: 26.8ms | ActiveRecord: 11.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:02:50 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
  Rendered text template (0.2ms)
Completed 200 OK in 7024ms (Views: 1.1ms | ActiveRecord: 2.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:03:03 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*alk"}
  Rendered text template (0.4ms)
Completed 200 OK in 23548ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:05:28 -0800
  [1m[36mActiveRecord::SchemaMigration Load (21.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*alk"}
  [1m[35mFarmer Exists (12.6ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 18249ms (Views: 57.5ms | ActiveRecord: 15.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:05:57 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 147198ms (Views: 2.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:08:28 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[36mFarmer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
Completed 500 Internal Server Error in 5964ms

NoMethodError (undefined method `response' for Form:Module):
  app/models/form.rb:51:in `respond_to_form'
  app/controllers/ussd_controller.rb:50:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:08:43 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
Completed 500 Internal Server Error in 2165ms

NameError (undefined local variable or method `form_session' for Form:Module):
  app/models/form.rb:87:in `increment_question_id'
  app/models/form.rb:52:in `respond_to_form'
  app/controllers/ussd_controller.rb:32:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (19.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:09:10 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
Completed 500 Internal Server Error in 13906ms

NameError (undefined local variable or method `form_session' for Form:Module):
  app/models/form.rb:88:in `increment_question_id'
  app/models/form.rb:53:in `respond_to_form'
  app/controllers/ussd_controller.rb:32:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:10:16 -0800
  [1m[36mActiveRecord::SchemaMigration Load (18.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[35mFarmer Exists (7.2ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 6459ms (Views: 17.4ms | ActiveRecord: 9.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:10:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 18275ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:11:16 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  [1m[35mFarmer Exists (7.1ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 7010ms (Views: 51.0ms | ActiveRecord: 9.2ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:11:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.4ms)
Completed 200 OK in 201526ms (Views: 2.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:14:56 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.4ms)
Completed 200 OK in 657054ms (Views: 2.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:26:44 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  [1m[35mFarmer Exists (7.4ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.3ms)
Completed 200 OK in 5458ms (Views: 23.0ms | ActiveRecord: 9.6ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:26:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 30187ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:27:29 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 12739ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:27:47 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 47792ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:31:24 -0800
  [1m[36mActiveRecord::SchemaMigration Load (17.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
Completed 500 Internal Server Error in 29379ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (68.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:32:04 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 64891ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:9:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.9ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:33:17 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 46258ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:34:13 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (6.3ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 8150ms (Views: 50.8ms | ActiveRecord: 9.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:34:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.2ms)
Completed 200 OK in 2163ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:34:34 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 32892ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:35:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 65103ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.4ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:36:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[36mFarmer Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1[0m
  Rendered text template (0.4ms)
Completed 200 OK in 6195ms (Views: 2.6ms | ActiveRecord: 3.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:36:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 826ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:36:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 2734ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:36:52 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 1217371ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:57:22 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 1726ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (31.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:57:40 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (6.6ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 11512ms (Views: 47.4ms | ActiveRecord: 8.5ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:57:57 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 2197ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:58:03 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 2494ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 11:58:10 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateFarmers (20150221190901)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (22.6ms)[0m  DROP TABLE "farmers"
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20150221190901'[0m
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFarmers (20150221190901)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (57.1ms)[0m  [1mCREATE TABLE "farmers" ("id" serial primary key, "phone_number" character varying(255), "first_name" character varying(255), "last_name" character varying(255), "national_id_number" character varying(255), "association" character varying(255), "country" character varying(255), "county" character varying(255), "ward" character varying(255), "nearest_town" character varying(255), "crops" character varying(255)[], "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (8.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150221190901"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:04:58 -0800
  [1m[36mActiveRecord::SchemaMigration Load (32.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (9.6ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
  Rendered text template (0.2ms)
Completed 200 OK in 6592ms (Views: 51.2ms | ActiveRecord: 11.8ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:05:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 840ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:05:14 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 1462ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:05:22 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}


Started POST "/ussd" for ::1 at 2015-02-23 12:14:59 -0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 2964ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (37.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (73.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:15:15 -0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 5064ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:16:11 -0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 2220ms

NoMethodError (undefined method `is_last_question' for Form:Module):
  app/models/form.rb:168:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (26.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.9ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:16:53 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 1048ms

SystemStackError (stack level too deep):
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:79


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:17:08 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 8494ms

SystemStackError (stack level too deep):
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:79


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.2ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:17:27 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 12812ms

SystemStackError (stack level too deep):
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:79


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.0ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:19:02 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
Completed 500 Internal Server Error in 1025ms

SystemStackError (stack level too deep):
  actionpack (4.0.13) lib/action_dispatch/middleware/reloader.rb:70


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.1ms)


Started POST "/ussd" for 127.0.0.1 at 2015-02-23 12:19:15 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (1.3ms)[0m  SELECT 1 AS one FROM "farmers" WHERE "farmers"."phone_number" = '+16506448199' LIMIT 1
Completed 500 Internal Server Error in 6142ms

SystemStackError (stack level too deep):
  actionpack (4.0.13) lib/action_dispatch/middleware/reloader.rb:70


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.0.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.8ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:20:40 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[35mFarmer Exists (6.9ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 44076ms (Views: 70.2ms | ActiveRecord: 8.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:21:29 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 5375ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:21:40 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  Rendered text template (0.4ms)
Completed 200 OK in 5560ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:21:49 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 10773ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record. Check to make sure that you don't have an attribute or method with the same name.):
  app/models/farmer.rb:5:in `create_new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (42.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (77.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:22:52 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 4392ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (30.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:23:02 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 1357ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (29.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:23:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 56574ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (27.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.7ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:24:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 2413ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (84.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (107.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:24:36 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 4537ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (32.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:24:43 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 37700ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record. Check to make sure that you don't have an attribute or method with the same name.):
  app/models/farmer.rb:5:in `new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (46.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (75.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:26:04 -0800
  [1m[36mActiveRecord::SchemaMigration Load (18.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 1866ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:164:in `is_last_question?'
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (32.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (116.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:26:22 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 54172ms

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:5: syntax error, unexpected ':'
    f.first_name: session[:first_name]
                 ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:6: syntax error, unexpected ':'
    f.last_name: session[:last_name]
                ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:7: syntax error, unexpected ':'
    f.phone_number: session[:phone_number]
                   ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:8: syntax error, unexpected ':'
    f.national_id_number: session[:national_id_number]
                         ^):
  app/models/farmer.rb:5: syntax error, unexpected ':'
  app/models/farmer.rb:6: syntax error, unexpected ':'
  app/models/farmer.rb:7: syntax error, unexpected ':'
  app/models/farmer.rb:8: syntax error, unexpected ':'
  app/controllers/ussd_controller.rb:81:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (34.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:27:32 -0800
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 23587ms

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:6: syntax error, unexpected ':'
    f.first_name: session[:first_name]
                 ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:7: syntax error, unexpected ':'
    f.last_name: session[:last_name]
                ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:8: syntax error, unexpected ':'
    f.phone_number: session[:phone_number]
                   ^
/Users/alkarim/Desktop/app/Egranary/app/models/farmer.rb:9: syntax error, unexpected ':'
    f.national_id_number: session[:national_id_number]
                         ^):
  app/models/farmer.rb:6: syntax error, unexpected ':'
  app/models/farmer.rb:7: syntax error, unexpected ':'
  app/models/farmer.rb:8: syntax error, unexpected ':'
  app/models/farmer.rb:9: syntax error, unexpected ':'
  app/controllers/ussd_controller.rb:81:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (33.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (116.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:28:22 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
Completed 500 Internal Server Error in 12536ms

ActiveRecord::DangerousAttributeError (association is defined by Active Record. Check to make sure that you don't have an attribute or method with the same name.):
  app/models/farmer.rb:5:in `new_farmer'
  app/controllers/ussd_controller.rb:83:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:18:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (34.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 12:39:56 -0800
  [1m[36mActiveRecord::SchemaMigration Load (13.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (19.9ms)[0m  [1mINSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "alk"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["created_at", "2015-02-23 20:40:07.058498"], ["updated_at", "2015-02-23 20:40:07.058498"]]
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36mFarmer Load (8.6ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 14668ms

NoMethodError (undefined method `-' for nil:NilClass):
  app/controllers/ussd_controller.rb:65:in `has_next_form?'
  app/controllers/ussd_controller.rb:21:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (43.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (80.4ms)
  [1m[36mFarmer Load (9.6ms)[0m  [1mSELECT  "farmers".* FROM "farmers"  ORDER BY "farmers"."id" ASC LIMIT 1[0m
  [1m[35mFarmer Load (1.0ms)[0m  SELECT  "farmers".* FROM "farmers"  ORDER BY "farmers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "farmers" WHERE "farmers"."id" = $1  [["id", 1]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m


Started POST "/ussd" for ::1 at 2015-02-23 12:41:24 -0800
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "alk"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["created_at", "2015-02-23 20:41:28.497678"], ["updated_at", "2015-02-23 20:41:28.497678"]]
  [1m[35m (14.8ms)[0m  COMMIT
  [1m[36mFarmer Load (0.5ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 33561ms (Views: 24.2ms | ActiveRecord: 20.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 19:44:44 -0800
  [1m[36mActiveRecord::SchemaMigration Load (25.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Load (25.4ms)[0m  SELECT "farmers".* FROM "farmers"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "farmers" WHERE "farmers"."id" = $1  [["id", 2]]
  [1m[36m (14.8ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Exists (0.4ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 16285ms (Views: 30.3ms | ActiveRecord: 72.9ms)


Started POST "/ussd" for ::1 at 2015-02-23 19:45:05 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 1255ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 19:45:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 1511ms (Views: 2.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 19:45:17 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["first_name", "alk"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["created_at", "2015-02-24 03:45:23.129411"], ["updated_at", "2015-02-24 03:45:23.129411"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.9ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 6982ms (Views: 1.8ms | ActiveRecord: 5.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (5.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCropReportTables (20150224051341)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (120.2ms)[0m  [1mCREATE TABLE "rice_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "kg_stored" float, "rice_type" character varying, "grain_type" character varying, "aroma_type" character varying, "bags_to_sell" float, "kg_to_sell" float) [0m
  [1m[35m (10.2ms)[0m  CREATE TABLE "maize_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "maize_type" character varying, "grade" character varying, "bags_to_sell" float, "kg_to_sell" float) 
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20150224051341"]]
  [1m[35m (12.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'authentications'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.2ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.6ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels_subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.6ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmer_inputs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'maize_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'missed_calls'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'publishers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'rice_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'sessions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36mFarmer Load (5.4ms)[0m  [1mSELECT "farmers".* FROM "farmers"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "farmers" WHERE "farmers"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.6ms)[0m  COMMIT


Started POST "/ussd" for ::1 at 2015-02-23 21:31:51 -0800
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 134ms

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:31: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:31: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:35: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:45: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :valid_county,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:49: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:52: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :any,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:56: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:59: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:59: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:63: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:66: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:66: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:70: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:78: syntax error, unexpected '}', expecting keyword_end
      },
       ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:81: syntax error, unexpected '}', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:111: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2", "3", "4"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:111: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:115: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:118: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :any_number,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:122: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:125: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :any_number,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:129: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:137: syntax error, unexpected '}', expecting keyword_end
      },
       ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:140: syntax error, unexpected '}', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:177: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2", "3", "4"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:177: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:181: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:188: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:191: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :any_number,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:195: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:198: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: :any_number,
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:202: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:210: syntax error, unexpected '}', expecting keyword_end
      },
       ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:213: syntax error, unexpected '}', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:422: syntax error, unexpected $end, expecting keyword_end):
  app/models/form.rb:31: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:31: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:35: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:45: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:49: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:52: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:56: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:59: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:59: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:63: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:66: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:66: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:70: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:78: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:81: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:111: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:111: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:115: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:118: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:122: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:125: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:129: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:137: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:140: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:177: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:177: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:181: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:188: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:191: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:195: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:198: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:202: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:210: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:213: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:422: syntax error, unexpected $end, expecting keyword_end
  app/controllers/ussd_controller.rb:129:in `get_form_start_id'
  app/controllers/ussd_controller.rb:98:in `new_session'
  app/controllers/ussd_controller.rb:47:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (41.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:07 -0800
  [1m[36mActiveRecord::SchemaMigration Load (4.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (1.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 86ms

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:66: syntax error, unexpected tIDENTIFIER, expecting '}'
          valid_responses: ["1", "2"],
                         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:66: syntax error, unexpected ',', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:70: syntax error, unexpected '}', expecting keyword_end
        },
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:78: syntax error, unexpected '}', expecting keyword_end
      },
       ^
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:81: syntax error, unexpected '}', expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/models/form.rb:422: syntax error, unexpected $end, expecting keyword_end):
  app/models/form.rb:66: syntax error, unexpected tIDENTIFIER, expecting '}'
  app/models/form.rb:66: syntax error, unexpected ',', expecting keyword_end
  app/models/form.rb:70: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:78: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:81: syntax error, unexpected '}', expecting keyword_end
  app/models/form.rb:422: syntax error, unexpected $end, expecting keyword_end
  app/controllers/ussd_controller.rb:129:in `get_form_start_id'
  app/controllers/ussd_controller.rb:98:in `new_session'
  app/controllers/ussd_controller.rb:47:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:30 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.1ms)
Completed 200 OK in 22ms (Views: 8.4ms | ActiveRecord: 1.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:35 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:39 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:53 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:33:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:34:22 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 139298ms (Views: 6.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:36:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
Completed 500 Internal Server Error in 36749ms

NoMethodError (undefined method `[]=' for true:TrueClass):
  app/models/form.rb:268:in `increment_question_id'
  app/models/form.rb:250:in `respond_to_form'
  app/controllers/ussd_controller.rb:31:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (34.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (57.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (114.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:37:38 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 9260ms (Views: 20.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:37:51 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.3ms)
Completed 200 OK in 3668ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:10 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  Rendered text template (0.2ms)
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:22 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*Nairobi"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*Nairobi*nairobi"}
  Rendered text template (0.2ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:34 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*Nairobi*nairobi*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 9ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:38:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*Nairobi*nairobi*1*1"}
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "association", "county", "country", "crops", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["first_name", "lal"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["association", "true"], ["county", "Nairobi"], ["country", "Kenya"], ["crops", "{maize,rice}"], ["created_at", "2015-02-24 05:39:13.081355"], ["updated_at", "2015-02-24 05:39:13.081355"]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mFarmer Load (0.6ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 179251ms

NoMethodError (undefined method `maize' for Form:Module):
  app/controllers/ussd_controller.rb:129:in `get_form_start_id'
  app/controllers/ussd_controller.rb:124:in `go_to_next_form'
  app/controllers/ussd_controller.rb:21:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (104.4ms)
  [1m[36mFarmer Load (0.7ms)[0m  [1mSELECT "farmers".* FROM "farmers"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "farmers" WHERE "farmers"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.8ms)[0m  COMMIT


Started POST "/ussd" for ::1 at 2015-02-23 21:41:56 -0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.1ms)
Completed 200 OK in 149ms (Views: 55.8ms | ActiveRecord: 2.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:00 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:04 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"lal"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*1*asda"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:39 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*1*asda*asd"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:42:40 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"123*1*asda*asd"}
  Rendered text template (0.1ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:43:23 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (2.6ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 31578ms (Views: 61.7ms | ActiveRecord: 4.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:44:00 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak"}
  Rendered text template (0.5ms)
Completed 200 OK in 128457ms (Views: 3.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:46:13 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 7985ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:46:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123"}
  Rendered text template (0.8ms)
Completed 200 OK in 1088ms (Views: 2.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:46:35 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*3"}
  Rendered text template (0.3ms)
Completed 200 OK in 127074ms (Views: 2.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:48:47 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2"}
  Rendered text template (0.3ms)
Completed 200 OK in 27909ms (Views: 5.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:49:20 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda"}
  Rendered text template (0.3ms)
Completed 200 OK in 1205ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:49:35 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*asd"}
  Rendered text template (0.3ms)
Completed 200 OK in 32130ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:50:20 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*nairobi"}
  Rendered text template (0.2ms)
Completed 200 OK in 2080ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:50:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*nairobi*asd"}
  Rendered text template (0.2ms)
Completed 200 OK in 1553ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:50:34 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*nairobi*asd*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1973ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:50:43 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*nairobi*asd*1*1"}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "association", "county", "country", "crops", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["first_name", "ak"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["association", "false"], ["county", "nairobi"], ["country", "Kenya"], ["crops", "{maize,rice}"], ["created_at", "2015-02-24 05:50:45.881036"], ["updated_at", "2015-02-24 05:50:45.881036"]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 422344ms (Views: 1.7ms | ActiveRecord: 9.2ms)


Started POST "/ussd" for ::1 at 2015-02-23 21:57:59 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"ak*lal*123*2*asda*nairobi*asd*1*1*30"}
Completed 500 Internal Server Error in 1465ms

NoMethodError (undefined method `any_number' for Form:Module):
  app/models/form.rb:287:in `validate_response'
  app/models/form.rb:244:in `respond_to_form'
  app/controllers/ussd_controller.rb:31:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (28.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.6ms)
  [1m[36mFarmer Load (0.4ms)[0m  [1mSELECT "farmers".* FROM "farmers"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "farmers" WHERE "farmers"."id" = $1[0m  [["id", 5]]
  [1m[35m (6.1ms)[0m  COMMIT


Started POST "/ussd" for ::1 at 2015-02-23 22:06:18 -0800
  [1m[36mActiveRecord::SchemaMigration Load (22.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (17.6ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 1239ms (Views: 69.7ms | ActiveRecord: 18.7ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:06:24 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk"}
  Rendered text template (0.3ms)
Completed 200 OK in 2429ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:06:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal"}
  Rendered text template (0.2ms)
Completed 200 OK in 1164ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:06:38 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123"}
  Rendered text template (0.2ms)
Completed 200 OK in 844ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:06:45 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*3"}
  Rendered text template (0.2ms)
Completed 200 OK in 1126ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*3"}
  Rendered text template (0.3ms)
Completed 200 OK in 1024ms (Views: 5.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1418ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mom"}
  Rendered text template (0.3ms)
Completed 200 OK in 1306ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:28 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa"}
  Rendered text template (0.2ms)
Completed 200 OK in 1410ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:36 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass"}
  Rendered text template (0.2ms)
Completed 200 OK in 1632ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:42 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1414ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:07:48 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1"}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "farmers" ("first_name", "last_name", "phone_number", "national_id_number", "association", "county", "country", "crops", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["first_name", "alk"], ["last_name", "lal"], ["phone_number", "+16506448199"], ["national_id_number", "123"], ["association", "true"], ["county", "mombasa"], ["country", "Kenya"], ["crops", "{maize,rice}"], ["created_at", "2015-02-24 06:07:50.676190"], ["updated_at", "2015-02-24 06:07:50.676190"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 4385ms (Views: 2.1ms | ActiveRecord: 27.2ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:08:42 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5qe"}
  Rendered text template (0.3ms)
Completed 200 OK in 2731ms (Views: 5.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:08:50 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5"}
  Rendered text template (0.2ms)
Completed 200 OK in 1843ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:08:58 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200"}
  Rendered text template (0.3ms)
Completed 200 OK in 2113ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:09:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0"}
  Rendered text template (0.3ms)
Completed 200 OK in 1357ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:02 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 5187ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*5"}
  Rendered text template (0.3ms)
Completed 200 OK in 1224ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4"}
  Rendered text template (0.2ms)
Completed 200 OK in 1200ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.2ms)
Completed 200 OK in 1474ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:46 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5.0"}
  Rendered text template (0.3ms)
Completed 200 OK in 2410ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:14:54 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.3ms)
Completed 200 OK in 16792ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:15:13 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.3ms)
Completed 200 OK in 51405ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:16:14 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.5ms)
Completed 200 OK in 27493ms (Views: 2.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:17:05 -0800
  [1m[36mActiveRecord::SchemaMigration Load (23.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.2ms)
Completed 200 OK in 42689ms (Views: 37.9ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:17:50 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5"}
  Rendered text template (0.2ms)
Completed 200 OK in 618ms (Views: 4.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:17:57 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"alk*lal*123*1*mombasa*ass*1*1*30.5*200.0*1*4*5*10"}
Completed 500 Internal Server Error in 1594ms

NameError (uninitialized constant Maize_report):
  app/controllers/ussd_controller.rb:81:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (35.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (132.2ms)
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateCropReportTables (20150224051341)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (34.1ms)[0m  DROP TABLE "maize_reports"
  [1m[36m (0.8ms)[0m  [1mDROP TABLE "rice_reports"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150224051341"]]
  [1m[36m (37.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.3ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'authentications'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.3ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.3ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels_subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmer_inputs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.7ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'missed_calls'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'publishers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'sessions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCropReportTables (20150224051341)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (35.8ms)[0m  [1mCREATE TABLE "rice_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "kg_stored" float, "rice_type" character varying, "grain_type" character varying, "aroma_type" character varying, "bags_to_sell" float, "kg_to_sell" float, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.1ms)[0m  CREATE TABLE "maize_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "maize_type" character varying, "grade" character varying, "bags_to_sell" float, "kg_to_sell" float, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20150224051341"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'authentications'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels_subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmer_inputs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'maize_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'missed_calls'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.9ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'publishers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (3.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'rice_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'sessions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.0ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36mFarmer Load (43.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers"  ORDER BY "farmers"."id" ASC LIMIT 1[0m


Started POST "/ussd" for ::1 at 2015-02-23 22:52:00 -0800
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (6.2ms)[0m  [1mSELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1[0m  [["phone_number", "+16506448199"]]
  [1m[35mFarmer Load (0.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 292ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:319:in `get_form_name'
  app/models/form.rb:343:in `is_last_question?'
  app/controllers/ussd_controller.rb:52:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (30.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (72.4ms)


Started POST "/ussd" for ::1 at 2015-02-23 22:52:58 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[36mFarmer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1[0m  [["phone_number", "+16506448199"]]
  [1m[35mFarmer Load (0.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 32ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/ussd_controller.rb:63:in `has_next_form?'
  app/controllers/ussd_controller.rb:40:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:09:22 -0800
  [1m[36mActiveRecord::SchemaMigration Load (23.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/controllers/ussd_controller.rb:49: syntax error, unexpected keyword_else, expecting keyword_end
/Users/alkarim/Desktop/app/Egranary/app/controllers/ussd_controller.rb:272: syntax error, unexpected keyword_end, expecting $end):
  app/controllers/ussd_controller.rb:49: syntax error, unexpected keyword_else, expecting keyword_end
  app/controllers/ussd_controller.rb:272: syntax error, unexpected keyword_end, expecting $end


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (21.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (106.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:09:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (2.9ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 156ms

NameError (undefined local variable or method `crop' for #<UssdController:0x007fc8be3b5d60>):
  app/controllers/ussd_controller.rb:40:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:10:01 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.2ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.4ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 1527ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:319:in `get_form_name'
  app/models/form.rb:323:in `get_form'
  app/models/form.rb:219:in `respond_to_form'
  app/controllers/ussd_controller.rb:42:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (23.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (45.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:12:00 -0800
  [1m[36mActiveRecord::SchemaMigration Load (17.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 50697ms (Views: 32.3ms | ActiveRecord: 18.4ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:12:58 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 1971ms (Views: 5.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5"}
  Rendered text template (0.2ms)
Completed 200 OK in 1224ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:13 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1297ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5"}
  Rendered text template (0.2ms)
Completed 200 OK in 1344ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:30 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4"}
  Rendered text template (0.2ms)
Completed 200 OK in 1451ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:38 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5"}
  Rendered text template (0.3ms)
Completed 200 OK in 1011ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:13:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 1885ms

SyntaxError (/Users/alkarim/Desktop/app/Egranary/app/models/maize_report.rb:10: syntax error, unexpected tIDENTIFIER, expecting keyword_when
    where "1"
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/maize_report.rb:19: syntax error, unexpected tIDENTIFIER, expecting keyword_when
    where "1"
         ^
/Users/alkarim/Desktop/app/Egranary/app/models/maize_report.rb:32: syntax error, unexpected keyword_end, expecting $end):
  app/models/maize_report.rb:10: syntax error, unexpected tIDENTIFIER, expecting keyword_when
  app/models/maize_report.rb:19: syntax error, unexpected tIDENTIFIER, expecting keyword_when
  app/models/maize_report.rb:32: syntax error, unexpected keyword_end, expecting $end
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (30.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (81.4ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:14:57 -0800
  [1m[36mActiveRecord::SchemaMigration Load (5.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 2888ms

LoadError (Unable to autoload constant Maize_report, expected /Users/alkarim/Desktop/app/Egranary/app/models/maize_report.rb to define it):
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (33.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:15:55 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 1968ms

NameError (uninitialized constant Maizereport):
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (25.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (48.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:16:08 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 76271ms

NameError (uninitialized constant Maizereport):
  app/controllers/ussd_controller.rb:84:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (28.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.4ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:17:33 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 7574ms

NoMethodError (undefined method `new_report' for #<Class:0x007fd90e181750>):
  app/controllers/ussd_controller.rb:86:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (97.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:17:48 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
Completed 500 Internal Server Error in 31187ms

NoMethodError (undefined method `new_report' for #<Class:0x007fd90e181750>):
  app/controllers/ussd_controller.rb:86:in `perform_form_last_action'
  app/controllers/ussd_controller.rb:17:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.3ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:19:17 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}


Started POST "/ussd" for ::1 at 2015-02-23 23:19:50 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
  [1m[35mFarmer Load (2.9ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 14280ms (Views: 63.5ms | ActiveRecord: 9.4ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:20:09 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1*4.5*1*5*4*5*45"}
  Rendered text template (0.2ms)
Completed 200 OK in 2730ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:20:18 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5."}
  Rendered text template (0.2ms)
Completed 200 OK in 889ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:20:25 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5*4"}
  Rendered text template (0.4ms)
Completed 200 OK in 1238ms (Views: 2.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:20:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5*2"}
  Rendered text template (0.2ms)
Completed 200 OK in 1434ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateCropReportTables (20150224051341)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (14.0ms)[0m  DROP TABLE "maize_reports"
  [1m[36m (1.1ms)[0m  [1mDROP TABLE "rice_reports"[0m
  [1m[35mSQL (12.8ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150224051341"]]
  [1m[36m (34.3ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.2ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'authentications'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.7ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels_subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmer_inputs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'missed_calls'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'publishers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'sessions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCropReportTables (20150224051341)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (39.2ms)[0m  [1mCREATE TABLE "rice_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "kg_stored" float, "rice_type" character varying, "grain_type" character varying, "aroma_type" character varying, "bags_to_sell" float, "kg_to_sell" float, "farmer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.3ms)[0m  CREATE  INDEX  "index_rice_reports_on_farmer_id" ON "rice_reports"  ("farmer_id")
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "maize_reports" ("id" serial primary key, "acres_planted" float, "kg_of_seed_planted" float, "maize_type" character varying, "grade" character varying, "bags_to_sell" float, "kg_to_sell" float, "farmer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX  "index_maize_reports_on_farmer_id" ON "maize_reports"  ("farmer_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20150224051341"]]
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'authentications'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'channels_subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.6ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmer_inputs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'farmers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'maize_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'missed_calls'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'publishers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'rice_reports'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'sessions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.4ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'subscribers'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname



Started POST "/ussd" for ::1 at 2015-02-23 23:24:32 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5*2"}
  Rendered text template (0.3ms)
Completed 200 OK in 2652ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:24:39 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5*2*4"}
  Rendered text template (0.3ms)
Completed 200 OK in 1264ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:24:46 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"5.5*2*4*5"}
  [1m[35mFarmer Load (0.8ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 45.0], ["kg_of_seed_planted", 5.5], ["maize_type", "yellow"], ["grade", "2"], ["bags_to_sell", 4.0], ["kg_to_sell", 5.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:24:51.287020"], ["updated_at", "2015-02-24 07:24:51.287020"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 22492ms (Views: 1.8ms | ActiveRecord: 13.3ms)
  [1m[35mMaizeReport Load (25.3ms)[0m  SELECT "maize_reports".* FROM "maize_reports"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "maize_reports" WHERE "maize_reports"."id" = $1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m


Started POST "/ussd" for ::1 at 2015-02-23 23:40:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>""}
  [1m[35mFarmer Exists (0.4ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 17012ms (Views: 4.1ms | ActiveRecord: 3.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:40:58 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 2081ms (Views: 4.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:04 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.4ms)
Completed 200 OK in 1278ms (Views: 2.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 780ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 1016ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:14 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 762ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:18 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
Completed 500 Internal Server Error in 1209ms

NameError (undefined local variable or method `form' for #<UssdController:0x007fe844037d50>):
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (31.4ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (133.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:41:24 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
Completed 500 Internal Server Error in 7494ms

NameError (undefined local variable or method `form' for #<UssdController:0x007fe84625ab30>):
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (25.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:42:10 -0800
  [1m[36mActiveRecord::SchemaMigration Load (22.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
Completed 500 Internal Server Error in 13526ms

NameError (undefined local variable or method `form' for #<UssdController:0x007fdec8879de0>):
  app/controllers/ussd_controller.rb:16:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (39.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (78.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:42:49 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (10.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:42:56.966818"], ["updated_at", "2015-02-24 07:42:56.966818"]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.7ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 15636ms (Views: 55.7ms | ActiveRecord: 41.5ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:43:13 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
Completed 500 Internal Server Error in 346743ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/form.rb:326:in `get_form_name'
  app/models/form.rb:330:in `get_form'
  app/models/form.rb:218:in `respond_to_form'
  app/controllers/ussd_controller.rb:37:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (27.9ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.2ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.7ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.4ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.4ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 1213ms (Views: 4.5ms | ActiveRecord: 3.2ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 802ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:28 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.2ms)
Completed 200 OK in 11ms (Views: 3.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:30 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:32 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:34 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"2"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:37 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 2.0], ["maize_type", "yellow"], ["grade", "2"], ["bags_to_sell", 2.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:49:43.414385"], ["updated_at", "2015-02-24 07:49:43.414385"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.7ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 9929ms (Views: 1.8ms | ActiveRecord: 7.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:49:59 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 72ms (Views: 1.6ms | ActiveRecord: 1.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:05 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:08 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:50:09 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:50:24.276358"], ["updated_at", "2015-02-24 07:50:24.276358"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.6ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 113744ms (Views: 1.2ms | ActiveRecord: 2.7ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.3ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.2ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.3ms)
Completed 200 OK in 105ms (Views: 4.4ms | ActiveRecord: 2.2ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.5ms)
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.4ms)
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:17 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:52:18 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:52:22.728891"], ["updated_at", "2015-02-24 07:52:22.728891"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.6ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 19234ms (Views: 1.4ms | ActiveRecord: 4.6ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:07 -0800
  [1m[36mActiveRecord::SchemaMigration Load (23.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.8ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 211ms (Views: 24.8ms | ActiveRecord: 6.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:10 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:10 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:11 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:12 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:53:13 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.5ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (8.3ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:53:20.348466"], ["updated_at", "2015-02-24 07:53:20.348466"]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.7ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]


Started POST "/ussd" for ::1 at 2015-02-23 23:56:03 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.4ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.1ms)
Completed 200 OK in 222ms (Views: 22.1ms | ActiveRecord: 4.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:05 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:06 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:07 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:56:10 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:56:13.232151"], ["updated_at", "2015-02-24 07:56:13.232151"]]
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.7ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 23211ms

NoMethodError (undefined method `rice_report_report' for Form:Module):
  app/controllers/ussd_controller.rb:144:in `get_form_start_id'
  app/controllers/ussd_controller.rb:139:in `go_to_next_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (25.6ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (55.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (108.1ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:50 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.1ms)
Completed 200 OK in 174ms (Views: 14.3ms | ActiveRecord: 4.8ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:50 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:51 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:51 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 65ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:52 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:52 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:57:53 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.5ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:57:56.223701"], ["updated_at", "2015-02-24 07:57:56.223701"]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.7ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 25771ms (Views: 1.3ms | ActiveRecord: 7.3ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:21 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:39 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:40 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:41 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:42 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-23 23:58:44 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "rice_reports" ("acres_planted", "kg_of_seed_planted", "kg_stored", "rice_type", "grain_type", "aroma_type", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["kg_stored", 1.0], ["rice_type", "paddy"], ["grain_type", "long"], ["aroma_type", "aromatic"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 07:58:51.014754"], ["updated_at", "2015-02-24 07:58:51.014754"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.6ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
Completed 500 Internal Server Error in 62755ms

NoMethodError (undefined method `_report' for Form:Module):
  app/controllers/ussd_controller.rb:148:in `get_form_start_id'
  app/controllers/ussd_controller.rb:143:in `go_to_next_form'
  app/controllers/ussd_controller.rb:27:in `inbound2'


  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (37.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.5ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/alkarim/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (75.8ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:13 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Exists (0.5ms)[0m  SELECT  1 AS one FROM "farmers" WHERE "farmers"."phone_number" = $1 LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mFarmer Load (0.3ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.4ms)
Completed 200 OK in 209ms (Views: 21.0ms | ActiveRecord: 3.9ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:15 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:16 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:17 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:17 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.5ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "maize_reports" ("acres_planted", "kg_of_seed_planted", "maize_type", "grade", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["maize_type", "white"], ["grade", "1"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 08:01:20.103518"], ["updated_at", "2015-02-24 08:01:20.103518"]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.4ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1[0m  [["phone_number", "+16506448199"]]
  Rendered text template (0.2ms)
Completed 200 OK in 2601ms (Views: 1.2ms | ActiveRecord: 18.1ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:23 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.1ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:24 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:25 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.3ms)
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:25 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:26 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 73ms (Views: 1.2ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:27 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  Rendered text template (0.2ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started POST "/ussd" for ::1 at 2015-02-24 00:01:28 -0800
Processing by UssdController#inbound2 as */*
  Parameters: {"sessionId"=>"1121311", "phoneNumber"=>"+16506448199", "text"=>"1"}
  [1m[35mFarmer Load (0.5ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "rice_reports" ("acres_planted", "kg_of_seed_planted", "kg_stored", "rice_type", "grain_type", "aroma_type", "bags_to_sell", "kg_to_sell", "farmer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"  [["acres_planted", 1.0], ["kg_of_seed_planted", 1.0], ["kg_stored", 1.0], ["rice_type", "paddy"], ["grain_type", "long"], ["aroma_type", "aromatic"], ["bags_to_sell", 1.0], ["kg_to_sell", 1.0], ["farmer_id", 6], ["created_at", "2015-02-24 08:01:31.513879"], ["updated_at", "2015-02-24 08:01:31.513879"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mFarmer Load (0.3ms)[0m  SELECT  "farmers".* FROM "farmers" WHERE "farmers"."phone_number" = $1  ORDER BY "farmers"."id" ASC LIMIT 1  [["phone_number", "+16506448199"]]
  Rendered text template (0.1ms)
Completed 200 OK in 2900ms (Views: 0.9ms | ActiveRecord: 6.9ms)
